# План тестирования и автоматизации мобильного приложения «Мобильный хоспис»

## 1. Объект тестирования
*   **Приложение:** «Мобильный хоспис»
*   **Тип:** Нативное Android-приложение
*   **Основной функционал:**
    *   Авторизация
    *   Работа с новостями (просмотр, создание, редактирование, удаление, фильтрация)
    *   Просмотр цитат
    *   Информация о приложении
    *   Выход из системы

## 2. Границы приложения (Scope)
В область тестирования входит весь реализованный функционал, доступный в пользовательском интерфейсе.

### Входящие в область тестирования:
*   **Авторизация и управление сессией:**
    *   Успешный вход с валидными данными.
    *   Неуспешный вход с невалидными данными.
    *   Валидация полей ввода.
    *   Выход из системы (Log out).
*   **Навигация:**
    *   Боковое меню («гамбургер»): пункты Main, News, About.
    *   Верхняя панель: кнопка перехода в раздел с цитатами, кнопка вызова Log out.
*   **Раздел «Main»:**
    *   Главная вкладка: поле News, кнопка перехода к полному списку (ALL NEWS).
*   **Раздел «News»:**
    *   Экран полного списка: кнопки сортировки, фильтра, перехода в Control Panel, кнопка REFRESH.
    *   Фильтр новостей: Выбор категории, периода дат (через календарь).
    *   Панель управления (Control Panel):
        *   Просмотр списка новостей.
        *   Кнопки сортировки, фильтра
        *   Создание/Редактирование новости: Заполнение полей (Категория, Заголовок, Дата, Время, Описание), чекбокс Active.
        *   Кнопки редактирования, удаления, разворачивания описания у каждой новости.    
*   **Раздел «Quotes»:** Просмотр списка цитат, раскрытие/скрытие отзывов.
*   **Раздел «About»:** Просмотр статической информации. Проверка кликабельности ссылок на политику конфиденциальности и условия использования.

### Ограничения, выявленные в ходе тестирования:
В ходе тестирования выявлена критическая интеграционная проблема: **новости, созданные в разделе "Control Panel", не отображаются в основном списке раздела "News"**. Это ограничение блокирует проверку следующего функционала:
1.  Функциональность кнопки "REFRESH" — невозможно проверить обновление данных списка.
2.  Работа сортировки ("Сортировка") в основном списке — проверка невозможна.
3.  Применение фильтров ("FILTER") в основном списке — проверка невозможна.
4.  Полный E2E-сценарий от создания до отображения в основном списке — проверка ограничена Control Panel.

> **Примечание:** В разделе "Control Panel" весь указанный функционал (сортировка, фильтрация) работает корректно.

## 3. Типы тестирования

| Тип тестирования       | Что будет проверяться                                                                 | Методы                                      |
| ---------------------- | ------------------------------------------------------------------------------------- | ------------------------------------------- |
| **Функциональное**     | Корректность работы всех функций (логика авторизации, CRUD новостей, фильтрация, навигация). | Позитивные/негативные сценарии, анализ граничных значений. |
| **UI (Интерфейс)**     | Наличие, видимость, расположение и отображение всех элементов (кнопок, полей, текстов). | Визуальная проверка.                         |
| **Usability (Удобство)** | Интуитивность навигации, понятность текстов и сообщений, логичность ключевых сценариев.  | Экспертная оценка, чек-лист.                 |
| **Надёжность**         | Стабильность, восстановление после прерываний, работа при потере сети.                | Длительные тесты, моделирование сетевых проблем. |
| **Производительность** | Время отклика, скорость загрузки.                                                     | Ручные замеры времени.                       |
| **Регрессионное**      | Отсутствие регрессии в основном функционале после автоматизации тестов.               | Набор ключевых автотестов.                   |

## 4. Стратегия автоматизации
**Цель:** Автоматизировать стабильные, повторяющиеся и критически важные сценарии для ускорения регрессионного тестирования.

### План автоматизации тест-кейсов

#### 4.1. Авторизация (AUTH) - Высокий приоритет
| ID тест-кейса   | Название                                      | Статус автоматизации | Примечание                     |
| --------------- | --------------------------------------------- | -------------------- | ------------------------------ |
| TC-AUTH-01      | Успешная авторизация с валидными данными      | Запланировано        | Критический сценарий           |
| TC-AUTH-02      | Неуспешная авторизация с неверным логином     | Запланировано        | Основной негативный сценарий   |
| TC-AUTH-03      | Неуспешная авторизация с неверным паролем     | Запланировано        | Основной негативный сценарий   |
| TC-AUTH-04      | Валидация пустого поля "Логин"                | Запланировано        | Проверка валидации             |
| TC-AUTH-05      | Валидация пустого поля "Пароль"               | Запланировано        | Проверка валидации             |
| TC-AUTH-06      | Валидация логина в верхнем регистре           | Запланировано        | Граничный случай               |
| TC-AUTH-08      | Валидация пароля в верхнем регистре           | Запланировано        | Граничный случай               |
| TC-AUTH-09      | Валидация логина с пробелами в середине       | Запланировано        | Проверка обработки пробелов    |
| TC-AUTH-10      | Валидация логина из одних пробелов            | Запланировано        | Крайний случай                 |

#### 4.2. Навигация (NAV) - Высокий приоритет
| ID тест-кейса | Название                                                          | Статус автоматизации | Примечание                   |
| ------------- | ----------------------------------------------------------------- | -------------------- | ---------------------------- |
| TC-NAV-01     | Основная навигация через боковое меню с главного экрана           | Запланировано        | Ключевой сценарий навигации |
| TC-NAV-02     | Проверка логики активности пунктов меню в разделе "News"          | Запланировано        | Проверка дефекта (баг)       |
| TC-NAV-03     | Навигация через верхнюю панель                                    | Запланировано        | Критическая навигация        |
| TC-NAV-04     | Проверка логики активности пунктов бокового меню в разделе "Quotes" | Запланировано      | Проверка состояния меню      |

#### 4.3. Новости (Главная страница) - Средний приоритет
| ID тест-кейса   | Название                                           | Статус автоматизации | Примечание            |
|-----------------|----------------------------------------------------|---------------------|-----------------------|
| TC-NEWS-MAIN-01 | Навигация с главного экрана к списку новостей      | Запланировано       | Основной переход      |
| TC-NEWS-MAIN-02 | Сворачивание/разворачивание блока "News" на главной | Запланировано       | Проверка UI-поведения |

#### 4.4. Новости (E2E сценарии) - Высокий приоритет
| ID тест-кейса      | Название                              | Статус автоматизации | Примечание                           |
| ------------------ | ------------------------------------- | -------------------- | ------------------------------------ |
| TC-NEWS-CREATE-01  | Полный E2E сценарий создания новости | Запланировано        | Ключевой E2E-сценарий (Создание)     |
| TC-NEWS-CP-05      | Удаление новости                      | Запланировано        | Ключевой E2E-сценарий (Удаление)     |
| TC-NEWS-EDIT-01    | Предзаполнение полей при редактировании | Запланировано      | Ключевой E2E-сценарий (Редактирование) |

#### 4.5. Новости (Список и фильтр) - Средний приоритет
| ID тест-кейса      | Название                                      | Статус автоматизации | Примечание                   |
| ------------------ | --------------------------------------------- | -------------------- |------------------------------|
| TC-NEWS-LIST-01    | Отображение заглушки при пустом списке новостей | Запланировано      | Проверка состояния           |
| TC-NEWS-LIST-02    | Проверка видимости элементов управления в списке новостей | Запланировано | Проверка видимости элементов |
| TC-NEWS-LIST-05    | Переход к фильтрации новостей                 | Запланировано        | Основной переход             |
| TC-NEWS-LIST-06    | Переход к созданию новости (Control Panel)    | Запланировано        | Ключевой переход             |
| TC-NEWS-FILTER-01  | Отображение элементов экрана фильтрации       | Запланировано        | Проверка UI                  |
| TC-NEWS-FILTER-02  | Работа выпадающего списка категорий           | Запланировано        | Проверка функционала         |
| TC-NEWS-FILTER-03  | Выбор даты через календарь                    | Запланировано        | Проверка взаимодействия      |
| TC-NEWS-FILTER-05  | Отмена фильтрации                             | Запланировано        | Основной сценарий            |
| TC-NEWS-FILTER-06  | Валидация дат: конечная дата раньше начальной | Запланировано        | Проверка дефекта (баг)       |

#### 4.6. Новости (Control Panel) - Высокий приоритет
| ID тест-кейса  | Название                                                      | Статус автоматизации | Примечание                       |
| -------------- | ------------------------------------------------------------- | -------------------- | -------------------------------- |
| TC-NEWS-CP-01  | Переход в "Control Panel"                                     | Запланировано        | Основной переход                 |
| TC-NEWS-CP-02  | Отображение элементов у новостей в "Control Panel"            | Запланировано        | Проверка отображения данных      |
| TC-NEWS-CP-03  | Раскрытие/скрытие описания новости                            | Запланировано        | Проверка интерактивности         |
| TC-NEWS-CP-04  | Переход к редактированию новости                              | Запланировано        | Основной переход                 |
| TC-NEWS-CP-06  | Проверка корректности отображения "Publication date"          | Запланировано        | Проверка данных                  |
| TC-NEWS-CP-07  | Проверка корректности отображения "Creation date"             | Запланировано        | Проверка дефекта (баг)           |
| TC-NEWS-CP-08  | Сортировка новостей по дате публикации                        | Запланировано        | Основной функционал              |
| TC-NEWS-CP-09  | Фильтрация с неактивным чекбоксом статуса                     | Запланировано        | Проверка дефекта (баг)           |
| TC-NEWS-CP-10  | Фильтрация только активных новостей                           | Запланировано        | Основной сценарий                |
| TC-NEWS-CP-11  | Фильтрация только неактивных новостей                         | Запланировано        | Основной сценарий                |

#### 4.7. Новости (Создание) - Высокий приоритет
| ID тест-кейса      | Название                                                  | Статус автоматизации | Примечание                       |
| ------------------ | --------------------------------------------------------- | -------------------- | -------------------------------- |
| TC-NEWS-CREATE-08  | Валидация поля "Publication date": нельзя выбрать прошедшую дату | Запланировано      | Проверка валидации               |
| TC-NEWS-CREATE-09  | Валидация поля "Category": ручной ввод текста             | Запланировано        | Проверка дефекта (баг)           |
| TC-NEWS-CREATE-10  | Проверка выбора категории из выпадающего списка           | Запланировано        | Основной функционал              |
| TC-NEWS-CREATE-11  | Валидация длины поля "Title"                              | Запланировано        | Проверка граничных значений      |
| TC-NEWS-CREATE-13  | Валидация "Title" из пробелов                             | Запланировано        | Проверка валидации               |
| TC-NEWS-CREATE-14  | Проверка многострочного "Description"                     | Запланировано        | Проверка функционала             |
| TC-NEWS-CREATE-15  | Отмена создания новости                                   | Запланировано        | Основной сценарий                |

#### 4.8. Новости (Редактирование) - Высокий приоритет
| ID тест-кейса   | Название                                      | Статус автоматизации | Примечание                   |
| --------------- | --------------------------------------------- | -------------------- | ---------------------------- |
| TC-NEWS-EDIT-02 | Изменение "Category" при редактировании       | Запланировано        | Проверка изменения данных    |
| TC-NEWS-EDIT-03 | Изменение "Title" при редактировании          | Запланировано        | Проверка изменения данных    |
| TC-NEWS-EDIT-04 | Изменение статуса "Active" при редактировании | Запланировано        | Критический функционал       |
| TC-NEWS-EDIT-05 | Изменение "Description" при редактировании    | Запланировано        | Проверка изменения данных    |
| TC-NEWS-EDIT-06 | Отмена редактирования                         | Запланировано        | Основной сценарий            |

#### 4.9. Цитаты и "О приложении" - Низкий приоритет
| ID тест-кейса | Название                                      | Статус автоматизации | Примечание                   |
|---------------| --------------------------------------------- | -------------------- | ---------------------------- |
| TC-QUOTES-01  | Работа с цитатами                             | Запланировано        | Дополнительный функционал    |
| TC-ABOUT-01   | Проверка раздела "О приложении"               | Запланировано        | Основная навигация           |
| TC-LOGOUT-01  | Выход из системы                              | Запланировано        | Критический сценарий         |
| TC-LOGOUT-02  | Очистка полей при возврате с главного экрана  | Запланировано        | Проверка безопасности        |

#### 4.10. Нефункциональное тестирование - Средний приоритет
| ID тест-кейса   | Название                                  | Статус автоматизации | Примечание               |
| --------------- | ----------------------------------------- | -------------------- | ------------------------ |
| TC-AUTH-12      | Сохранение данных при повороте экрана     | Запланировано        | Проверка дефекта (баг)   |
| TC-NF-02        | Адаптивность верстки при повороте экрана  | Запланировано        | Проверка дефекта (баг)   |

### Что остается для ручного тестирования:
*   **Нефункциональные проверки:**
    *   `TC-NF-01` (Стабильность приложения) - длительные тесты.
    *   `TC-NF-03` (Работа при потере сети) - требует управления сетевым соединением.
    *   `TC-NF-04` (Время загрузки) - замеры производительности.
    *   `TC-NF-05` (Восстановление после сворачивания) - сложно автоматизировать.
*   **UI/Usability проверки:**
    *   `TC-AUTH-11` (Скрытие пароля) - визуальная проверка.
    *   `TC-ABOUT-02`, `TC-ABOUT-03` (Внешние ссылки) - переход по внешним ссылкам.
*   **Тест-кейсы с дефектами, требующими уточнения:**
    *   `TC-AUTH-07` (Логин с пробелами в начале/конце) - требует уточнения требований.
    *   `TC-NEWS-CREATE-07` (Чекбокс Active) - неоднозначное поведение.
    *   `TC-NEWS-CREATE-12` (Title из спецсимволов) - дефект, требует исправления.
*   **Блокированные тесты:** `TC-NEWS-LIST-03`, `TC-NEWS-LIST-04`, `TC-NEWS-LIST-07`, `TC-NEWS-FILTER-04` - из-за интеграционной проблемы.
*   **Валидационные проверки с UI-сообщениями:** `TC-NEWS-CREATE-02`, `TC-NEWS-CREATE-03`, `TC-NEWS-CREATE-04`, `TC-NEWS-CREATE-05`, `TC-NEWS-CREATE-06` - сложно автоматизировать проверку сообщений об ошибках.

### Технологический стек:
*   **Язык:** Kotlin
*   **Фреймворк для UI-тестов:** Espresso
*   **Сборка:** Gradle
*   **Отчетность:** Allure Framework

## 5. Критерии начала и окончания тестирования
### Начало тестирования:
1.  Приложение успешно собирается и запускается на целевом эмуляторе/устройстве.
2.  Доступны тестовые данные (учётные данные).
3.  Утверждены тестовые артефакты (чек-лист, тест-кейсы).

### Окончание тестирования:
1.  Выполнены все запланированные проверки.
2.  Автоматизированы ключевые сценарии согласно плану.
3.  Сформирован итоговый отчет.

## 6. Риски
| Риск                                                                 | Влияние                                     | Мера предотвращения/реакции                                                                                            |
| -------------------------------------------------------------------- | ------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- |
| Изменение ID или структуры UI-элементов в приложении                 | Высокое: падение автотестов                 | Использование стабильных `android:id` в тестах. При падении тестов — оперативное обновление селекторов.                |
| Нехватка времени на полный цикл тестирования                         | Среднее                                     | Четкое следование приоритетам. Фокус на автоматизации ключевого E2E-сценария и основных проверках.                     |
| Ошибки на конкретных версиях Android/устройствах                     | Среднее                                     | Раннее тестирование на 2-3 целевых конфигурациях (эмулятор + 1 физическое устройство).                                |
| Интеграционные проблемы между разделами приложения                   | Высокое: Блокирует проверку связанного функционала | Фокус на тестировании доступных модулей (Control Panel). Зафиксировать проблему как блокирующий баг.                   |
| Дефекты, требующие уточнения требований                              | Среднее                                     | Зафиксировать как баги с комментарием "Требует уточнения требований". Сосредоточиться на тестировании четко определенного функционала. |

## 7. Артефакты тестирования
1.  **`Plan.md`** (этот документ) — План тестирования.
2.  **`Check.xlsx`** — Чек-лист с результатами ручного тестирования.
3.  **`Cases.xlsx`** — Детализированные тест-кейсы.
4.  **`app/src/androidTest/`** — Исходный код UI-автотестов на Espresso.
5.  **`README.md`** — Инструкция по запуску автотестов.
6.  **`allure-results.zip`** — Отчет Allure по итогам прогона автотестов.
7.  **`Result.md`** — Итоговый отчет с анализом результатов.

## 8. Статистика плана автоматизации
*   **Всего тест-кейсов:** 74
*   **Запланировано к автоматизации:** 55 (74.3%)
*   **Остается для ручного тестирования:** 15 (25.7%)
*   **Блокированные тесты:** 4 (5.4%)
*   **Критические сценарии (высокий приоритет):** 45 (60.8%)
*   **Средний приоритет:** 22 (29.7%)
*   **Низкий приоритет:** 7 (9.5%)

### Распределение по категориям автоматизации:
| Категория                | Всего тестов | Запланировано к автоматизации | %         |
|--------------------------|--------------|-------------------------------|-----------|
| Авторизация              | 12           | 10                            | 83.3%     |
| Навигация                | 4            | 4                             | 100%      |
| Новости (Главная)        | 2            | 2                             | 100%      |
| Новости (Список)         | 7            | 4                             | 57.1%     |
| Новости (Фильтр)         | 6            | 5                             | 83.3%     |
| Новости (Control Panel)  | 11           | 11                            | 100%      |
| Новости (Создание)       | 15           | 8                             | 53.3%     |
| Новости (Редактирование) | 6            | 6                             | 100%      |
| Цитаты                   | 1            | 1                             | 100%      |
| О приложении             | 3            | 1                             | 33.3%     |
| Нефункциональное         | 5            | 1                             | 20.0%     |
| Выход из системы         | 2            | 2                             | 100%      |
| **Итого**                | **74**       | **55**                        | **74.3%** |

> **Примечание:** Блокируемые тесты (4) выделены отдельно, так как их нельзя проверить из-за интеграционной проблемы.


# План тестирования и автоматизации мобильного приложения «Мобильный хоспис»

## 1. Объект тестирования
*   **Приложение:** «Мобильный хоспис»
*   **Тип:** Нативное Android-приложение
*   **Основной функционал:**
    *   Авторизация
    *   Работа с новостями (просмотр, создание, редактирование, удаление, фильтрация)
    *   Просмотр цитат
    *   Информация о приложении
    *   Выход из системы

## 2. Границы приложения (Scope)
В область тестирования входит весь реализованный функционал, доступный в пользовательском интерфейсе.

### Входящие в область тестирования:
*   **Авторизация и управление сессией:**
    *   Успешный вход с валидными данными.
    *   Негативные сценарии (неверные данные, пустые поля, пробелы, верхний регистр).
    *   Валидация полей ввода.
    *   Выход из системы (Log out).
*   **Навигация:**
    *   Боковое меню («гамбургер»): пункты Main, News, About.
    *   Верхняя панель: кнопка перехода в раздел с цитатами, кнопка вызова Log out.
*   **Раздел «Main»:**
    *   Главная вкладка: блок News, кнопка перехода к полному списку (ALL NEWS), сворачивание/разворачивание блока.
*   **Раздел «News»:**
    *   Экран полного списка новостей: кнопки сортировки, фильтра, перехода в Control Panel, кнопка REFRESH.
    *   Фильтр новостей: выбор категории, периода дат (через календарь), отмена фильтрации.
    *   Панель управления (Control Panel):
        *   Просмотр списка новостей с отображением всех элементов (Title, Publication date, Creation date, Author, статус).
        *   Кнопки сортировки, фильтрации по статусу.
        *   Создание/редактирование новости: заполнение полей (Category, Title, Publication date, Time, Description), чекбокс Active.
        *   Кнопки редактирования, удаления, разворачивания описания у каждой новости.
        *   Валидация полей при создании/редактировании.
*   **Раздел «Quotes»:** Просмотр списка цитат, раскрытие/скрытие отзывов.
*   **Раздел «About»:** Просмотр статической информации, версии приложения. Проверка кликабельности ссылок на политику конфиденциальности и условия использования (ручное тестирование).

### Ограничения, выявленные в ходе тестирования:
В ходе тестирования выявлена критическая интеграционная проблема: **новости, созданные в разделе "Control Panel", не отображаются в основном списке раздела "News"**. Это ограничение блокирует проверку следующего функционала:
1.  Функциональность кнопки "REFRESH" — невозможно проверить обновление данных списка.
2.  Работа сортировки ("Сортировка") в основном списке — проверка невозможна.
3.  Применение фильтров ("FILTER") в основном списке — проверка невозможна.
4.  Полный E2E-сценарий от создания до отображения новости в основном списке — проверка ограничена Control Panel.

> **Примечание:** В разделе "Control Panel" весь указанный функционал (сортировка, фильтрация) работает корректно.

## 3. Типы тестирования

| Тип тестирования         | Что будет проверяться                                                                                               | Методы                                                                              |
|--------------------------|---------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|
| **Функциональное**       | Корректность работы всех функций (логика авторизации, CRUD новостей, фильтрация, навигация, валидация полей).       | Позитивные/негативные сценарии, параметризованные тесты, анализ граничных значений. |
| **UI (Интерфейс)**       | Наличие, видимость и отображение элементов (кнопок, полей, текстов). Исключая визуальные проверки (скрытие пароля). | Визуальная проверка в ручном режиме.                                                |
| **Usability (Удобство)** | Интуитивность навигации, понятность текстов и сообщений об ошибках.                                                 | Экспертная оценка, анализ сообщений об ошибках.                                     |
| **Надёжность**           | Стабильность, восстановление после прерываний, работа при потере сети.                                              | Длительные тесты, моделирование сетевых проблем (ручное тестирование).              |
| **Производительность**   | Время отклика, скорость загрузки.                                                                                   | Ручные замеры времени.                                                              |
| **Регрессионное**        | Отсутствие регрессии в основном функционале после автоматизации тестов.                                             | Прогон набора ключевых автотестов.                                                  |

## 4. Стратегия автоматизации
**Цель:** Автоматизировать стабильные, повторяющиеся и критически важные сценарии для ускорения регрессионного тестирования.

### Структура тестовых классов

Тесты сгруппированы в 6 классов по функциональному признаку:

| Тестовый класс             | Описание                                                        | Покрываемые тест-кейсы                                                     |
|----------------------------|-----------------------------------------------------------------|----------------------------------------------------------------------------|
| **AuthorizationTest**      | Тестирование авторизации                                        | TC-AUTH-01,02,03,04                                                        |
| **NavigationTest**         | Тестирование навигации по приложению                            | TC-NAV-01,02,03,04                                                         |
| **NewsViewTest**           | Тестирование просмотра новостей (главная, список, фильтр)       | TC-NEWS-MAIN-01,02 + TC-NEWS-LIST-02,05,06 + TC-NEWS-FILTER-01,02,03,05,06 |
| **ControlPanelNewsTest**   | Тестирование панели управления новостями                        | TC-NEWS-CP-01...10                                                         |
| **NewsCreateEditTest**     | Тестирование создания и редактирования новостей                 | TC-NEWS-CREATE-01,03,04,05,06,07,08,09,10,11,12,13 + TC-NEWS-EDIT-01,02    |
| **QuotesAboutLogoutTest**  | Тестирование цитат, раздела "О приложении" и выхода из системы  | TC-QUOTES-01, TC-ABOUT-01, TC-LOGOUT-01,02                                 |

### 4.1. Распределение тестов по классам

#### AuthorizationTest - Высокий приоритет
| ID тест-кейса | Название                                      | Примечание                                                               |
|---------------|-----------------------------------------------|--------------------------------------------------------------------------|
| TC-AUTH-01    | Успешная авторизация с валидными данными      | Критический сценарий                                                     |
| TC-AUTH-02    | Валидация пустых полей (параметризованный)    | Проверка валидации (пустые поля и пробелы)                               |
| TC-AUTH-03    | Негативная авторизация с невалидными данными  | Параметризованный тест (неверные данные, upper case, пробелы в середине) |
| TC-AUTH-04    | Валидация пробелов в начале/конце логина      | Выделен в отдельный тест для фиксации дефекта                            |

#### NavigationTest - Высокий приоритет
| ID тест-кейса  | Название                                                            | Примечание                  |
|----------------|---------------------------------------------------------------------|-----------------------------|
| TC-NAV-01      | Основная навигация через боковое меню с главного экрана             | Ключевой сценарий навигации |
| TC-NAV-02      | Проверка логики активности пунктов меню в разделе "News"            | Проверка дефекта (баг)      |
| TC-NAV-03      | Навигация через верхнюю панель                                      | Критическая навигация       |
| TC-NAV-04      | Проверка логики активности пунктов бокового меню в разделе "Quotes" | Проверка состояния меню     |

#### NewsViewTest - Средний приоритет
| ID тест-кейса     | Название                                                  | Примечание                  |
|-------------------|-----------------------------------------------------------|-----------------------------|
| TC-NEWS-MAIN-01   | Навигация с главного экрана к списку новостей             | Основной переход            |
| TC-NEWS-MAIN-02   | Сворачивание/разворачивание блока "News" на главной       | Проверка UI-поведения       |
| TC-NEWS-LIST-02   | Проверка видимости элементов управления в списке новостей | Проверка отображения кнопок |
| TC-NEWS-LIST-05   | Переход к фильтрации новостей                             | Основной переход            |
| TC-NEWS-LIST-06   | Переход в Control Panel                                   | Ключевой переход            |
| TC-NEWS-FILTER-01 | Отображение элементов экрана фильтрации                   | Проверка UI                 |
| TC-NEWS-FILTER-02 | Работа выпадающего списка категорий                       | Проверка функционала        |
| TC-NEWS-FILTER-03 | Выбор даты через календарь                                | Проверка взаимодействия     |
| TC-NEWS-FILTER-05 | Отмена фильтрации                                         | Основной сценарий           |
| TC-NEWS-FILTER-06 | Валидация дат: конечная дата раньше начальной             | Проверка дефекта (баг)      |

#### ControlPanelNewsTest - Высокий приоритет
| ID тест-кейса | Название                                             | Примечание                  |
|---------------|------------------------------------------------------|-----------------------------|
| TC-NEWS-CP-01 | Отображение элементов у новостей в "Control Panel"   | Проверка отображения данных |
| TC-NEWS-CP-02 | Раскрытие/скрытие описания новости                   | Проверка интерактивности    |
| TC-NEWS-CP-03 | Переход к редактированию новости                     | Основной переход            |
| TC-NEWS-CP-04 | Полный E2E сценарий удаления новости                 | Ключевой E2E-сценарий       |
| TC-NEWS-CP-05 | Проверка корректности отображения "Publication date" | Проверка данных             |
| TC-NEWS-CP-06 | Проверка корректности отображения "Creation date"    | Проверка дефекта (баг)      |
| TC-NEWS-CP-07 | Сортировка новостей по дате публикации               | Основной функционал         |
| TC-NEWS-CP-08 | Фильтрация с неактивным чекбоксом статуса            | Проверка дефекта (баг)      |
| TC-NEWS-CP-09 | Фильтрация только активных новостей                  | Основной сценарий           |
| TC-NEWS-CP-10 | Фильтрация только неактивных новостей                | Основной сценарий           |

#### NewsCreateEditTest - Высокий приоритет
| ID тест-кейса     | Название                                                         | Примечание                  |
|-------------------|------------------------------------------------------------------|-----------------------------|
| TC-NEWS-CREATE-01 | Полный E2E сценарий создания новости                             | Ключевой E2E-сценарий       |
| TC-NEWS-CREATE-03 | Валидация поля "Publication date": нельзя выбрать прошедшую дату | Проверка валидации          |
| TC-NEWS-CREATE-04 | Валидация поля "Category": ручной ввод текста                    | Проверка UX                 |
| TC-NEWS-CREATE-05 | Проверка выбора категории из выпадающего списка                  | Основной функционал         |
| TC-NEWS-CREATE-06 | Валидация максимальной длины поля Title (500 символов)           | Проверка граничных значений |
| TC-NEWS-CREATE-07 | Валидация поля "Title" из спецсимволов                           | Проверка дефекта (баг)      |
| TC-NEWS-CREATE-08 | Валидация "Title" из пробелов                                    | Проверка валидации          |
| TC-NEWS-CREATE-09 | Проверка многострочного "Description"                            | Проверка функционала        |
| TC-NEWS-CREATE-10 | Отмена создания новости                                          | Основной сценарий           |
| TC-NEWS-CREATE-11 | Валидация всех обязательных полей при создании новости           | Параметризованный тест      |
| TC-NEWS-CREATE-12 | Валидация поля "Title" - граничные значения (1 символ)           | Проверка граничных значений |
| TC-NEWS-CREATE-13 | Валидация выбора даты публикации - граничные значения            | Проверка граничных значений |
| TC-NEWS-EDIT-01   | Отмена редактирования                                            | Основной сценарий           |
| TC-NEWS-EDIT-02   | Полный E2E сценарий редактирования новости                       | Ключевой E2E-сценарий       |

#### QuotesAboutLogoutTest - Низкий приоритет
| ID тест-кейса | Название                                     | Примечание                |
|---------------|----------------------------------------------|---------------------------|
| TC-QUOTES-01  | Работа с цитатами                            | Дополнительный функционал |
| TC-ABOUT-01   | Проверка раздела "О приложении"              | Основная навигация        |
| TC-LOGOUT-01  | Выход из системы                             | Критический сценарий      |
| TC-LOGOUT-02  | Очистка полей при возврате с главного экрана | Проверка безопасности     |

### 4.2. Параметризованные тесты (оптимизация)

| Базовый тест      | Объединяет тест-кейсы        | Параметры                                                                                                        |
|-------------------|------------------------------|------------------------------------------------------------------------------------------------------------------|
| TC-AUTH-02        | Валидация пустых полей       | пустой логин, пустой пароль, логин-пробелы, пароль-пробелы                                                       |
| TC-AUTH-03        | Негативная авторизация       | неверный логин, неверный пароль, upper case логин, upper case пароль, пробелы в середине, пробелы в начале/конце |
| TC-NEWS-CREATE-11 | Валидация обязательных полей | пустой Title, пустая Category, пустая Date, пустое Time, пустой Description                                      |

### 4.3. Что остается для ручного тестирования

| Категория                   | Тест-кейсы                                                                                              | Причина                                                 |
|-----------------------------|---------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
| **UI/Визуальные проверки**  | TC-AUTH-05 (скрытие пароля)                                                                             | Проверка визуального состояния                          |
| **Адаптивность**            | TC-AUTH-06 (поворот экрана), TC-NF-02 (адаптивность)                                                    | Тесты на адаптивность проверяются вручную               |
| **Блокированные тесты**     | TC-NEWS-LIST-01 (заглушка), TC-NEWS-LIST-03,04,07, TC-NEWS-FILTER-04                                    | Интеграционная проблема / невозможно обеспечить условия |
| **Нефункциональные**        | TC-NF-01 (стабильность), TC-NF-03 (потеря сети), TC-NF-04 (производительность), TC-NF-05 (сворачивание) | Сложно/нецелесообразно автоматизировать                 |
| **Внешние ссылки**          | TC-ABOUT-02, TC-ABOUT-03                                                                                | Переход по внешним ссылкам                              |
| **Неоднозначное поведение** | TC-NEWS-CREATE-02 (чекбокс Active)                                                                      | Требуется уточнение требований                          |

### 4.4. Технологический стек
*   **Язык разработки приложения:** Kotlin
*   **Язык реализации автотестов:** Java
*   **Фреймворк UI-тестирования:** Espresso
*   **Система сборки:** Gradle
*   **Фреймворк отчетности:** Allure

## 5. Критерии начала и окончания тестирования
### Начало тестирования:
1.  Приложение успешно собирается и запускается на целевом эмуляторе/устройстве.
2.  Доступны тестовые данные (учётные данные).
3.  Утверждены тестовые артефакты (чек-лист, тест-кейсы).

### Окончание тестирования:
1.  Выполнены все запланированные проверки.
2.  Автоматизированы ключевые сценарии согласно плану.
3.  Сформирован итоговый отчет с анализом результатов и рекомендациями.

## 6. Риски
| Риск                                                 | Влияние                                            | Мера предотвращения/реакции                                                                                                            |
|------------------------------------------------------|----------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------|
| Изменение ID или структуры UI-элементов в приложении | Высокое: падение автотестов                        | Использование стабильных `android:id` в тестах. При падении тестов — оперативное обновление селекторов.                                |
| Нехватка времени на полный цикл тестирования         | Среднее                                            | Четкое следование приоритетам. Фокус на автоматизации ключевых E2E-сценариев и основных проверках.                                     |
| Ошибки на конкретных версиях Android/устройствах     | Среднее                                            | Раннее тестирование на 2-3 целевых конфигурациях (эмулятор + 1 физическое устройство).                                                 |
| Интеграционные проблемы между разделами приложения   | Высокое: блокирует проверку связанного функционала | Фокус на тестировании доступных модулей (Control Panel). Зафиксировать проблему как блокирующий баг в отчете.                          |
| Дефекты, требующие уточнения требований              | Среднее                                            | Зафиксировать как баги с комментарием "Требует уточнения требований". Сосредоточиться на тестировании четко определенного функционала. |

## 7. Артефакты тестирования
1.  **`Plan.md`** (этот документ) — План тестирования.
2.  **`Check.xlsx`** — Чек-лист с результатами ручного тестирования.
3.  **`Cases.xlsx`** — Детализированные тест-кейсы.
4.  **`app/src/androidTest/`** — Исходный код UI-автотестов на Espresso.
5.  **`README.md`** — Инструкция по запуску автотестов.
6.  **`allure-results.zip`** — Отчет Allure по итогам прогона автотестов.
7.  **`Result.md`** — Итоговый отчет с анализом результатов.

## 8. Статистика плана автоматизации
*   **Всего тест-кейсов:** 61
*   **Запланировано к автоматизации:** 45 (73.8%)
*   **Остается для ручного тестирования:** 16 (26.2%)
*   **Блокированные тесты:** 4 (6.6%)
*   **Найденных дефектов:** 9 (14.8%)

### Распределение по тестовым классам:
| Тестовый класс        | Количество тестов | % от всех автотестов |
|-----------------------|-------------------|----------------------|
| AuthorizationTest     | 4                 | 8.9%                 |
| NavigationTest        | 4                 | 8.9%                 |
| NewsViewTest          | 10                | 22.2%                |
| ControlPanelNewsTest  | 10                | 22.2%                |
| NewsCreateEditTest    | 13                | 28.9%                |
| QuotesAboutLogoutTest | 4                 | 8.9%                 |
| **ИТОГО**             | **45**            | **100%**             |

### Список найденных дефектов (Failed):
1. **TC-AUTH-04** - пробелы в начале/конце логина должны приводить к ошибке авторизации (фактически авторизация успешна)
2. **TC-AUTH-05** - данные не сохраняются при повороте экрана
3. **TC-NAV-02** - некорректная активность пунктов меню в разделе "News"
4. **TC-NEWS-FILTER-06** - отсутствует валидация на корректность диапазона дат
5. **TC-NEWS-CP-06** - некорректное отображение "Creation date"
6. **TC-NEWS-CP-08** - фильтрация работает некорректно при неактивных чекбоксах
7. **TC-NEWS-CREATE-02** - неоднозначное поведение чекбокса "Active"
8. **TC-NEWS-CREATE-07** - заголовок из спецсимволов сохраняется
9. **TC-NF-02** - прокрутка не работает при повороте экрана